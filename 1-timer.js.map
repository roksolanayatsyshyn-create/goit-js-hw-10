{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n    const options={\n      enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    // console.log(selectedDates[0]);\n  },};\n  flatpickr(\"#datetime-picker\",options) \n  \n    \n\n// refs\nconst refs={\n  calendar:document.querySelector('#datetime-picker'),\n  timer:document.querySelectorAll('.value'),\n  buttonTimer: document.querySelector('[type=\"button\"]')\n}\n\nrefs.buttonTimer.disabled = true;\n\nlet userSelectedDate = null;\n\n\nflatpickr(\"#datetime-picker\", {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n\n    if (userSelectedDate <= new Date()) {\n      refs.buttonTimer.disabled = true;\n      iziToast.warning({\n        message: \"Please choose a date in the future\",\n        position: 'topRight',\n      });\n      return;\n    }\n\n    refs.buttonTimer.disabled = false;\n  },\n});\n\n\n\nrefs.buttonTimer.disabled = true;\nfunction showTimer() {\n  refs.buttonTimer.disabled = true;\n  \n  const intervalId = setInterval(() => {\n    const ms = userSelectedDate - new Date();\n    if (ms <= 0) {\n      clearInterval(intervalId);\n\n     return\n    }\n    convertMs(ms);\n  }, 1000);\n}\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\");\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\nrefs.timer[0].textContent=addLeadingZero(days);\nrefs.timer[1].textContent=addLeadingZero(hours);\nrefs.timer[2].textContent=addLeadingZero(minutes);\nrefs.timer[3].textContent=addLeadingZero(seconds);\n  return { days, hours, minutes, seconds };\n}\n\n\n\n// listeners\nrefs.buttonTimer.addEventListener(\"click\", showTimer)"],"names":["options","selectedDates","flatpickr","refs","userSelectedDate","iziToast","showTimer","intervalId","ms","convertMs","addLeadingZero","value","days","hours","minutes","seconds"],"mappings":"+IAQI,MAAMA,EAAQ,CACZ,WAAY,GAChB,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEzB,GACEC,EAAU,mBAAmBF,CAAO,EAKtC,MAAMG,EAAK,CACT,SAAS,SAAS,cAAc,kBAAkB,EAClD,MAAM,SAAS,iBAAiB,QAAQ,EACxC,YAAa,SAAS,cAAc,iBAAiB,CACvD,EAEAA,EAAK,YAAY,SAAW,GAE5B,IAAIC,EAAmB,KAGvBF,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQD,EAAe,CAGrB,GAFAG,EAAmBH,EAAc,CAAC,EAE9BG,GAAoB,IAAI,KAAQ,CAClCD,EAAK,YAAY,SAAW,GAC5BE,EAAS,QAAQ,CACf,QAAS,qCACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDF,EAAK,YAAY,SAAW,EAC7B,CACH,CAAC,EAIDA,EAAK,YAAY,SAAW,GAC5B,SAASG,GAAY,CACnBH,EAAK,YAAY,SAAW,GAE5B,MAAMI,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAKJ,EAAmB,IAAI,KAClC,GAAII,GAAM,EAAG,CACX,cAAcD,CAAU,EAEzB,MACA,CACDE,EAAUD,CAAE,CACb,EAAE,GAAI,CACT,CACA,SAASE,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASF,EAAUD,EAAI,CAQrB,MAAMI,EAAO,KAAK,MAAMJ,EAAK,KAAG,EAE1BK,EAAQ,KAAK,MAAOL,EAAK,MAAO,IAAI,EAEpCM,EAAU,KAAK,MAAQN,EAAK,MAAO,KAAQ,GAAM,EAGjDO,EAAU,KAAK,MAASP,EAAK,MAAO,KAAQ,IAAU,GAAM,EACpE,OAAAL,EAAK,MAAM,CAAC,EAAE,YAAYO,EAAeE,CAAI,EAC7CT,EAAK,MAAM,CAAC,EAAE,YAAYO,EAAeG,CAAK,EAC9CV,EAAK,MAAM,CAAC,EAAE,YAAYO,EAAeI,CAAO,EAChDX,EAAK,MAAM,CAAC,EAAE,YAAYO,EAAeK,CAAO,EACvC,CAAE,KAAAH,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAKAZ,EAAK,YAAY,iBAAiB,QAASG,CAAS"}